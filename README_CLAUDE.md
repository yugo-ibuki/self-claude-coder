# 🚀 Claude tmux自動実行システム - プロジェクト開始ガイド

このガイドでは、Claude AIを使った自動開発システムを最初から立ち上げる手順を説明します。

## 📋 目次

1. [システム概要](#システム概要)
2. [運用フロー](#運用フロー)
3. [プロジェクト準備](#プロジェクト準備)
4. [システム起動](#システム起動)
5. [タスク管理](#タスク管理)
6. [日常運用](#日常運用)
7. [トラブルシューティング](#トラブルシューティング)

## システム概要

このシステムは、tmux環境で複数のClaude AIインスタンスを連携させ、開発プロセス全体を自動化します。

### 🏗️ アーキテクチャ

```
親Pane (%25) - プロジェクト司令塔
├── 開発Pane (%31) - コード実装
├── レビューPane (%32) - コードレビュー  
├── テストPane (%33) - 品質保証
├── ドキュメントPane (%34) - ドキュメント管理
└── デプロイPane (%35) - 運用・デプロイ
```

### 🔄 ワークフロー

```
Development → Review → Testing → Documentation → Deployment
```

## 運用フロー

この自動開発システムの典型的な運用フローです：

```
📋 プロジェクト準備 → 🚀 システム起動 → 📝 タスク作成 → 🔄 自動実行 → 📊 監視・管理
```

### 🎯 基本的な作業の流れ

1. **事前準備**: 今日やるタスクを明確に定義
2. **システム起動**: ワンクリックで全環境を立ち上げ
3. **タスク投入**: 定義したタスクをシステムに登録
4. **自動実行**: 各Paneが自動的に作業を進行
5. **進捗確認**: 定期的に状況をチェック
6. **結果確認**: 完成したコードやドキュメントをレビュー

## プロジェクト準備

### 📝 事前に準備すべきこと

開発を開始する前に、以下を明確に定義しておきます：

#### 1. プロジェクト固有情報

作業開始前に決めておくべき項目：
- 使用技術スタック（React, Node.js, PostgreSQL等）
- コーディング規約とスタイル
- ディレクトリ構造
- 重要な技術的制約

#### 2. 今日の作業方針
```
例：
- フロントエンド中心の開発
- API設計とバックエンド実装
- テストとバグ修正
```

## システム起動

### 🚀 ワンクリック起動（推奨）

```bash
# 全て自動で設定される一括起動
./start_claude_system.sh
```

実行すると以下が自動実行されます：
1. ✅ 前提条件チェック（tmux, claude, jq）
2. ✅ tmuxセッション作成/確認
3. ✅ 必要なPane作成
4. ✅ 各PaneでClaude起動
5. ✅ 各Paneに役割設定
6. ✅ 状態ファイル初期化

### 📺 セッションへの接続

```bash
# 起動完了後、セッションに接続
tmux attach-session -t claude-dev
```

### ✅ 起動確認

```bash
# システム状況確認
./.task/status_check.sh
```

以下が表示されればOK：
- 📱 全Paneが「idle」状態
- 📋 サンプルタスクが表示される
- 📊 システム統計が正常

## システム運用

### 🚀 基本的な操作

```bash
# システム起動
./start_claude_system.sh

# セッション接続
tmux attach-session -t claude-dev

# システム状況確認
./.task/status_check.sh

# セッション切断（作業継続したまま）
tmux detach-session
```

## 日常運用

### 🔄 典型的な1日の流れ

#### 朝（作業開始時）
```bash
# 1. システム起動
./start_claude_system.sh

# 2. セッション接続
tmux attach-session -t claude-dev

# 3. 作業開始
# 親Paneで開発指示を出す
```

#### 作業中（定期確認）
```bash
# 進捗確認（30分おき程度）
./.task/status_check.sh

# 必要に応じてログ確認
tail -f .task/system.log
```

#### 終了時
```bash
# 最終状況確認
./.task/status_check.sh

# セッション保存（tmuxセッションは残したまま切断）
tmux detach-session
```

### 🔧 システムとの連携

#### 作業指示の出し方
```bash
# 親Paneへの指示例：

# 開発開始
"今日の開発作業を開始してください"

# 技術要件指定
"React HooksとTypeScriptを使用して実装してください"

# 優先度指定
"○○機能を優先的に進めてください"
```

#### 完了確認とレビュー
各フェーズ完了時に出力されるファイルを確認：
- **開発完了**: 実装されたコード
- **レビュー完了**: レビューコメントと修正提案
- **テスト完了**: テスト結果レポート
- **ドキュメント完了**: API仕様書や設計書
- **デプロイ完了**: 本番環境への反映状況

## トラブルシューティング

### 🔧 よくある問題と解決方法

#### 1. 作業が進まない

**症状**: 30分以上進捗がない、Paneが応答しない
```bash
# システム状況を確認
./.task/status_check.sh

# システム全体をリセット
./start_claude_system.sh  # 自動的に問題を修復
```

#### 2. タスクの質が期待と違う

**症状**: 実装方針や出力が想定と異なる
```bash
# より具体的な指示を親Paneに送信
"task-001を中断し、以下の技術要件で再実装してください：[具体的な要件]"
```

#### 3. 重複や競合が発生

**症状**: 複数のPaneが同じ作業をしている
```bash
# 緊急リセットで状態を初期化
./.task/status_check.sh  # 現在の状況確認
# 親Paneで："全タスクを一時停止して整理してください"
```

#### 4. システムが混乱している

**最終手段**: 完全リセット
```bash
# システム全体を初期状態に戻す
./start_claude_system.sh

# 新しいセッションで再開
tmux attach-session -t claude-dev
```

## 🎯 成功の指標

システムが期待通りに動作している場合：

- ✅ `./start_claude_system.sh` が問題なく完了する
- ✅ `.task/status_check.sh` で全Paneが「idle」状態
- ✅ 親Paneに指示を出すと、適切なPaneに作業が割り振られる
- ✅ 各フェーズ（開発→レビュー→テスト→ドキュメント→デプロイ）が順次進行する
- ✅ 実際に動作するコードやドキュメントが生成される

## 📚 効果的な使い方のコツ

### 📝 効果的な指示の出し方

1. **具体的で明確な指示を心がける**
   - ❌ 「プログラムを作る」
   - ✅ 「ユーザー認証機能を実装してください（JWT、セッション管理含む）」

2. **技術的制約を含める**
   - 使用フレームワーク、ライブラリの指定
   - パフォーマンス、セキュリティ要件
   - コーディング規約

### 🔄 日々の運用パターン

```bash
# 朝のルーチン（5分）
./start_claude_system.sh
tmux attach-session -t claude-dev

# 作業指示（1分）
# 親Paneで："今日の開発を開始してください"

# 定期確認（30分おき、30秒）
./.task/status_check.sh

# 夕方の確認（5分）
./.task/status_check.sh
tmux detach-session
```

---

🚀 **これで本格的な自動開発システムの運用開始です！**

重要なのは「最初から完璧を求めず、使いながら改善していく」ことです。システムからの出力を確認し、必要に応じて指示の仕方を調整してください。

📝 **タスク管理について**: 詳細なタスク作成・管理方法は `README_TASK.md` を参照してください。
